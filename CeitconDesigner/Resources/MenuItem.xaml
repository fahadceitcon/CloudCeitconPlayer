<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:local="clr-namespace:Ceitcon_Designer.Resources">

    <Style TargetType="Menu">
        <Setter Property="OverridesDefaultStyle" Value="True"></Setter>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Menu">
                    <StackPanel Orientation="Horizontal" IsItemsHost="True" Background="Transparent"></StackPanel>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <ControlTemplate x:Key="{x:Static MenuItem.TopLevelHeaderTemplateKey}" TargetType="{x:Type MenuItem}">
        <Border Name="border" MinHeight="32" Width="38" Background="Transparent">
            <Grid>
                <Image Source="{DynamicResource iconMainMenu}" Stretch="None" VerticalAlignment="Center" HorizontalAlignment="Center" Margin="0,2,0,0"></Image>
                <Popup Name="Popup" Placement="Bottom" IsOpen="{TemplateBinding IsSubmenuOpen}" AllowsTransparency="True" Focusable="False" PopupAnimation="Fade">
                    <Border Margin="6,0,0,0" Name="SubmenuBorder" SnapsToDevicePixels="True" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" >
                        <StackPanel IsItemsHost="True" KeyboardNavigation.DirectionalNavigation="Cycle" />
                    </Border>
                </Popup>
            </Grid>
        </Border>
        <ControlTemplate.Triggers>
            <Trigger Property="IsHighlighted" Value="true">

            </Trigger>
            <Trigger Property="IsSubmenuOpen" Value="True">
                <Setter TargetName="border" Property="Background" Value="#FF222222"></Setter>
            </Trigger>
        </ControlTemplate.Triggers>
    </ControlTemplate>

    <ControlTemplate x:Key="{x:Static MenuItem.SubmenuItemTemplateKey}" TargetType="{x:Type MenuItem}">
        <Border Background="{TemplateBinding Background}" MinWidth="140">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition></ColumnDefinition>
                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                </Grid.ColumnDefinitions>
                <Border x:Name="borderCustom" Grid.ColumnSpan="2" Visibility="Hidden" IsHitTestVisible="False" VerticalAlignment="Top" Height="2" BorderBrush="#FF444444" BorderThickness="0,1,0,0" Background="#FF6a6a6a"></Border>
                <ContentPresenter x:Name="presenter" Grid.Column="0" Margin="{TemplateBinding Padding}" ContentSource="Header" RecognizesAccessKey="True"/>
                <TextBlock Grid.Column="1" x:Name="textBlock_InputGesture" Foreground="#44FFFFFF" TextAlignment="Right" MinWidth="50" FontSize="8pt" VerticalAlignment="Center" Padding="0" Margin="5,1,10,0" Text="{TemplateBinding InputGestureText}"></TextBlock>
            </Grid>
        </Border>
        <ControlTemplate.Triggers>
            <Trigger Property="IsHighlighted" Value="true">

            </Trigger>
            <Trigger Property="IsEnabled" Value="false">
                <Setter TargetName="presenter" Property="Opacity" Value="0.5"></Setter>
                <Setter TargetName="textBlock_InputGesture" Property="Foreground" Value="#22FFFFFF"></Setter>
            </Trigger>
        </ControlTemplate.Triggers>
    </ControlTemplate>

    <Style TargetType="MenuItem">
        <Setter Property="Background" Value="#FF545454"></Setter>
        <Setter Property="BorderBrush" Value="#FF222222"></Setter>
        <Setter Property="BorderThickness" Value="1"></Setter>
        <Setter Property="MinHeight" Value="21"></Setter>
        <Setter Property="MinWidth" Value="18"></Setter>
        <Setter Property="Foreground" Value="White"></Setter>
        <Setter Property="Padding" Value="14,7"></Setter>
        <Setter Property="SnapsToDevicePixels" Value="True"></Setter>
        <Style.Triggers>
            <Trigger Property="Role" Value="TopLevelHeader">
                <Setter Property="Template" Value="{StaticResource {x:Static MenuItem.TopLevelHeaderTemplateKey}}"/>
                <Setter Property="Grid.IsSharedSizeScope" Value="true"/>
            </Trigger>
            <Trigger Property="Role" Value="SubmenuItem">
                <Setter Property="Template" Value="{StaticResource {x:Static MenuItem.SubmenuItemTemplateKey}}"/>
            </Trigger>
            <Trigger Property="IsHighlighted" Value="True">
                <Setter Property="Background" Value="#FF656565"></Setter>
            </Trigger>
        </Style.Triggers>
    </Style>
</ResourceDictionary>